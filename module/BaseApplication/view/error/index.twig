{% extends "layout/layout.twig" %}

{% block page_title %}{{ translate('Error') }} - {% endblock %}

{% block content %}
    <h1>An error occurred</h1>
    <h2>{{ message }}</h2>

    {% if exception %}

        <h2>Additional information:</h2>
        <dl>
            <dt>File:</dt>
            <dd>
                <pre>{{ exception.file }}:{{ exception.line }}</pre>
            </dd>
            <dt>Message:</dt>
            <dd>
                <pre>{{ exception.message }}</pre>
            </dd>
            <dt>Stack trace:</dt>
            <dd>
                <pre>{{ exception.traceAsString }}</pre>
            </dd>
        </dl>

        {% if exception.previous %}
            {% set ex = exception.previous %}
            <hr/>

            <h2>Previous exceptions:</h2>
            <ul class="list-unstyled">
                {% for e in ex %}
                    <li>
                        <h3>{{ e }}</h3>
                        <dl>
                            <dt>File:</dt>
                            <dd>
                                <pre>{{ e.file }}:{{ e.line }}</pre>
                            </dd>
                            <dt>Message:</dt>
                            <dd>
                                <pre>{{ e.message }}</pre>
                            </dd>
                            <dt>Stack trace:</dt>
                            <dd>
                                <pre>{{ e.traceAsString }}</pre>
                            </dd>
                        </dl>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <h3>No Exception available</h3>
        {% endif %}
    {% endif %}

{% endblock %}